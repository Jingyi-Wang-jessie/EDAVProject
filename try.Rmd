---
title: Campaign Contribution Pattern Research in 2017-2018 Election Cycle
output: html_document
Team Members: Zihan Ye(zy2293), Jiachen Xu(jx2318), Jingyi Wang, Haikun Du
---

Introduction
Explain why you chose this topic, and the questions you are interested in studying.

 
Shinyapps
https://hkddd.shinyapps.io/EDAV/


```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE, warning = FALSE,
                      message = FALSE)
```
Occupation: 

Contributors in various occupations have quite different contribution pattern. To give lobbist more comprehensive overview, the following bubble chart depicts each occupation's population and average transaction amount. Bubble size represents overall transaction amount. 

The largest contribution population is "RETIRED", even though their average transcation amount is quite small. On the other hand, "CHAIRMAN" and "CEO"'s population is quite small, their average transaction amount is fairly large.

Lobbist can create different strategies targeting different occupation individuals. 

```{r}
#install.packages("plotly")
library(plotly)
data <- read.csv("datafiles/occupation_200.csv")
data$AVERAGE = data$TRANSACTION_AMT/data$TIMES

p <- plot_ly(data,  x = ~AVERAGE,y = ~CONTRIBUTORS,  type = 'scatter', mode = 'markers', size = ~TRANSACTION_AMT, color = ~OCCUPATION, colors = 'Paired',
             marker = list(opacity = 0.5, sizemode = 'diameter',
                           line = list(width = 2, color = '#FFFFFF')),
             hoverinfo = 'text',
             text = ~paste('Occupation:', OCCUPATION, '<br>Total_Transaction_Amt:', TRANSACTION_AMT, '<br>Mean_Transaction_Amt:', AVERAGE)) %>%
  layout(title = 'TOP 100 Common Occupation Contributions',
         xaxis = list(title = 'MEAN TRANSACTION AMOUNT',
                      showgrid = FALSE),
         yaxis = list(title = 'CONTRIBUTOR POPULATION',
                      showgrid = FALSE),
         showlegend = FALSE)
p
```
